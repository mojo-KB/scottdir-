<!DOCTYPE html>
<!-- view-source:http://leafletjs.com/examples/quick-start/example.html -->
<html>
<head>
	
	<title>Quick Start - Leaflet</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>


	
</head>
<body>
<div>
<form id="Form">
Type: popup or marker
<input name="xradios" value="1" type="radio" id="typeofclick" label="popup" > popup
<input name="xradios" value="2" type="radio" id="typeofclick" label="marker" checked> marker
</form>
</div>
<div id="mapid" style="width: 600px; height: 400px;">
</div>



<script>

	var mymap = L.map('mapid').setView([51.505, -0.09], 13);
	//var mymap = L.map('mapid').setView([51.505, -0.09], 13);
	//}).setView([51.505, -0.09], 13);

//var map = L.map('map', {
    //center: [39.73, -104.99],
    //zoom: 10,
    //layers: [circlesLayer, layerGroup]
    //layers: [grayscale, cities]
//});

	//var mymap = L.map('mapid', {
    		//center: [51.03, -0.04],
    		//zoom: 10,
		//layers: [circlesLayer, layerGroup]
		//});


	L.marker([51.5, -0.09]).addTo(mymap)
		.bindPopup("<b>Hello world!</b><br />I am a popup.").openPopup();

	var myCircle = L.circle([51.508, -0.11], 500, {
		color: 'red',
		fillColor: '#f03',
		fillOpacity: 0.5
	});
	var myCircle2 = L.circle([51.608, -0.18], 1000, {
		color: 'yellow',
		fillColor: '#f03',
		fillOpacity: 0.5
	});
	//myCircle.addTo(mymap).bindPopup("I am a circle.");
	function getCircle(myLatLon,myAlt,mycolor){
		//return L.circle([51.508, -0.11], 500, {
		return L.circle(myLatLon, myAlt, {
                color: mycolor,
                fillColor: '#f03',
                fillOpacity: 0.5
        	});
		
	}
	var circ1 = getCircle([51.608, 0.01], 500, 'blue').addTo(mymap).bindPopup("I am a RED circle.");
	var circ2 = getCircle([51.408, -0.11], 500, 'green').addTo(mymap).bindPopup("I am YOUR circle.");

	//var circlesLayer = L.layerGroup([circ1, circ2]).addTo(mymap);;
	var circlesLayer = L.layerGroup([myCircle2,myCircle,circ1,circ2]).addTo(mymap);;

	var polygon2 = L.polygon([
		[51.509, -0.08],
		[51.503, -0.06],
		[51.51, -0.047]
	]).addTo(mymap).bindPopup("I am a polygon.");

	var polygon3 = L.polygon([
		[51.509, -0.14],
		[51.503, -0.17],
		[51.51, -0.037]
	]).addTo(mymap).bindPopup("I am polygon3.");


         // Creating markers
         var hydMarker = new L.Marker( [51.509, -0.08]);
         var vskpMarker = new L.Marker( [51.503, -0.06]);
         var vjwdMarker = new L.Marker( [51.51, -0.047]);

         // Creating feature group
         var featureGroup3 = L.featureGroup([polygon3]);
         featureGroup3.setStyle({color:'red',opacity:.5});
         featureGroup3.bindPopup("Feature Group3");
         featureGroup3.addTo(mymap);      // Adding layer group to map

	//var mypolyLayer3 = L.layerGroup([polygon3]).addTo(mymap);;
	var mypolyLayer3 = L.layerGroup([featureGroup3]).addTo(mymap);;

         // Creating feature group
         var featureGroup = L.featureGroup([hydMarker, vskpMarker, vjwdMarker, polygon2]);
         featureGroup.setStyle({color:'blue',opacity:.5});
         //featureGroup.bindPopup("Feature Group");
         featureGroup.addTo(mymap);      // Adding layer group to map


         // Creating a Layer object
         var layer = new L.TileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png');

	layer.addTo(mymap);

// Have to pay for mapbox
//	L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
		//maxZoom: 18,
		//attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
			//'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			//'Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
		//id: 'mapbox.streets'
	//}).addTo(mymap);
         
         // Creating markers
         //var hydMarker = new L.Marker([17.385044, 78.486671]);
         var hydMarker = new L.Marker( [51.608, 0.19]);
         var vskpMarker = new L.Marker( [51.508, 0.26]);
         var vjwdMarker = new L.Marker( [51.408, 0.12]);
         
         // Creating latlng object
         var latlngs = [
	    [51.608, 0.19],
	    [51.508, 0.26],
	    [51.408, 0.12]
            //[17.385044, 78.486671],
            //[16.506174, 80.648015],
            //[17.686816, 83.218482]
         ];
         // Creating a polygon
         var polygon = L.polygon(latlngs, {color: 'green'});
         
         // Creating layer group
         var layerGroup = L.layerGroup([hydMarker, vskpMarker, vjwdMarker, polygon]);
         //layerGroup.addTo(mymap);    // Adding layer group to map

        var baseLayers = {
		"the Map": layer,
		"layerGroup": layerGroup
	};

	var overlays = {
		"circlesLayer": circlesLayer,
		"layerGroup": layerGroup,
	"featureGroup3": featureGroup
	//"mypolyLayer3": layerGroup
	};

	L.control.layers(baseLayers, overlays).addTo(mymap);

	var popup = L.popup();


	function onMapClick(e) 
	{
		//var radios = document.radio;
		//var radios = document.radio["xradios"];
		//var myradio=document.getElementById("typeofclick").value;
		//var radios = document.form.elements["typeofclick"];
		var radios = document.getElementById("Form");
		//alert('myradio=' + myradio);
		//if(radios[1].checked) 
		if(radios[1].checked) 
		{
        	//var marker = L.marker();
		L.marker(e.latlng).addTo(mymap);
			//.setLatLng(e.latlng)
			//.setContent("You clicked the map at " + e.latlng.toString())
			//.addTo(mymap);
		}
		else
		{
		popup
			.setLatLng(e.latlng)
			.setContent("You clicked the map at\n" + e.latlng.toString())
			.openOn(mymap);
		}
	}

	mymap.on('click', onMapClick);

</script>



</body>
</html>
